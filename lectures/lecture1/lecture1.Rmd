---
title       : Introductions
subtitle    : 
author      : Ozan Jaquette
job         : UCLA, Dept. of Education
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : [mathjax, bootstrap]            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
biglogo     : ucla-wordmark-main-1.jpg
knit        : slidify::knit2slides
url         : {assets: ../assets}
#hitheme     : xcode      # 
#biglogo     : ucla-wordmark-main-1.jpg
---

<style type="text/css">

.title-slide {
background-color: #000
}

.title-slide hgroup > h1{
font-family: 'IBM Plex Serif', 'Oswald', 'Helvetica', sanserif; 
}

.title-slide hgroup > h1, 
.title-slide hgroup > h2 {
color: #FFF
}  

article p, article li, article li.build, section p, section li{
font-family: 'IBM Plex Sans', 'Open Sans','Helvetica', 'Crimson Text', 'Garamond', 'Palatino', sans-serif;
text-align: justify;
font-size:22px;
line-height: 1.5em;
color: #000000;
}


slide:not(.segue) h2{
font-family: 'IBM Plex Sans', Arial, sans-serif;
font-size: 52px;
font-style: normal;
font-weight: bold;
text-transform: normal;
letter-spacing: -2px;
line-height: 1.2em;
color: #000000;
}

slide.segue h2{
 font-family: "IBM Plex Sans";
}

pre code {
font-family: 'IBM Plex Mono', 'Consolas';
font-size: 80%;
padding: 0px;
line-height: 1.25;
}
</style>

## What is Data Science?

<br>

### i.e., why are you in this class?

---

## What is Data Science?

### Money-maker: 

> "The supply of professionals who can work effectively with data at scale is limited, and is reflected by **rapidly rising salaries for data engineers, data scientists, statisticians, and data analysts**." -[Berkeley School of Information](https://datascience.berkeley.edu/about/what-is-data-science/)

### Mashup of Fields/Skills:

> "What differentiates data science from statistics is that data science is a holistic approach. We're increasingly finding data in the wild, and **data scientists are involved with gathering data, massaging it into a tractable form, making it tell its story, and presenting that story to others**" -[Mike Loukides](https://www.oreilly.com/ideas/what-is-data-science) 

---

## A Recipe for Data Science

###  Recipe: 
> ["a set of instructions for making something from various ingredients"](http://www.merriam-webster.com/dictionary/recipe)

### Some Implications:
* Reproducible. 
* Much of the work is preparation.
* Much of the enjoyment is in the presentation.
* **Writing a recipe and cooking require different skills.**

---

## Algorithmic Thinking

**Three Steps** (adapted from Luay Nakhleh at Rice University):

### 1. Understanding the Problem
* What is the input?
* What is the intended output?

### 2. Designing an Algorithm
* What is the sequence of operations that connect the input and output?

### 3. Implementing the Algorithm
* How can we program a computer to carry out these operations?

---

## Two Course Goals

### 1. Write the recipe:  
Outline steps that transform messy data to description (e.g., figure or table).


### 2. Prepare the meal:  
Implement these steps using R.

<br>

**Don't lose sight of this first goal.**

--- .segue .dark

## Your Introductions

---

## What I'd Like to Know About You

1. Preferred Name

2. Outcome of Interest  
(e.g., poverty, civil war, health, education)

3. Stats Background  
(e.g., MPP Core)

4. Programming Background  
(e.g., None, Stata, Basic Python)

Survey: https://goo.gl/forms/DgnE2lZtKd6axoFl2

--- .segue .dark 

## Course Logistics

---

## Components

### Lectures & Sections

* Mix of tutorial and practice.  
* Bring your laptop; **Do not use it to check email, social media.**   
* Continue discussion on course's [Piazza website](piazza.com/ucla/spring2018/pp290).

### Problem Sets

* Practice and extend skills learned in class.

### In-class Midterm

* Review and reinforce content.

### Final Project

* Acquire, manipulate, and analyze data. 
* Practice clearly conveying your approach and results.

---

## Course Outline

### Working Backwards:

1. Visualization
2. Aggregating/Summarizing Data
3. Cleaning / Managing Data
4. Acquiring Data

We're going to start by working with relatively clean data  
(think: baking a cake using a boxed mix). 

Then we're going to learn how to work with messier inputs  
(think: baking a cake from scratch). 

--- &twocol

## TA Support

Avery Do (avery.d.do@gmail.com) will be our TA for the course. 

### Responsibilities:
* Holding (optional) section  
* Answering questions on the course website  
* Supporting course administration and grading

He (and I) will **not** answer coding questions over email.  

*** =left

### Things you should email Avery about:
* Course logistics (e.g., absences, materials)  
* Grading / requests for extensions  

*** =right

### Things you should email me about:
* Personal or private matters  
* Concerns/complaints about the course  

---

## Scheduling Conflict

### APP Presentations  

* Scheduled ~4-7p on May 17 (Th), 24 (Th), 29 (Tu)  
* 2nd-year MPPs will have to miss class when they are presenting.  
Others can try to attend APP presentations before or after class.
* Everyone is responsible for all of the material covered in those classes.

--- .segue .dark

## Tools for Using R

---

## What is R?

> ["R is an integrated suite of software facilities for data manipulation, calculation and graphical
display."](https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf)

---

## What is R?

### Base R:  
* Authored by the R Core Team
* Ships with R 

### R Packages:  
* Bundles of code users install to supplement Base R
* Often organized around a theme <br> (e.g., `foreign` helps import data from other programs)

> ["In R, the fundamental unit of shareable code is the package.  
A package bundles together code, data, documentation, and tests, and is easy to share with others."](http://r-pkgs.had.co.nz/intro.html)  
-Hadley Wickham

--- &twocol

## Why R?

*** =left
* **Free** and open-source
* **Flexible**
* **Popular** in academia and industry
* Opportunity to learn programming skills  
(i.e., no pointing-and-clicking)

*** =right

```{r, fig.align="center", echo = FALSE, fig.width = 4}
knitr::include_graphics(path = "https://stackoverflow.blog/wp-content/uploads/2017/10/plot_tags_time-1-675x675.png")
```

--- .segue bg:#ff4d4d

## Warning

--- .segue bg:#ff4d4d

**You are learning a new language.**

### Implications:

* **Time-consuming**: You need to practice a lot.

* **Frustrating**: Unfamiliar and finicky syntax.

* This will not be easy for you or for me. 

### Souces to Turn To:
* R Help (`?` before a function pulls up help page)
* Google (someone has had this problem and lived to tell)
* Classmates  
* Piazza Site  
* Section  
* Office Hours

--- .segue .dark

## Complementary Tools

---

## RStudio

### Two key components: 

1. **Source**: Where you write code (`.R` or `.Rmd` files)

2. **Console**: Where you execute code

You can copy-paste code into the console OR  
highlight code and press `cmd+enter`.

* Tip: Preferences > Editing > Code > Soft-wrap R Source Code

---

## RMarkdown

* Embeds R code, output, and text into one document.
* "Living" document that updates every time you compile it.
* Fully reproducible files that can be compiled as HTML, PDF, of Word.

**This is what you'll use to prepare assignments.**

**This is what I use to create these slides.**

--- bg:#DBEDFF 

## RMarkdown

To create your *second* RMarkdown file:

1. Open RStudio.

2. Navigate to`File` > `New File` > `R Markdown`.

3. To compile, click `Knit to PDF`.

**If you have your laptop with you, try this now; otherwise, partner up.**

**If you don't have your laptop with you, bring it next time.**

---

## RMarkdown

A RMarkdown (`.Rmd`) file consist of three parts:

* Text (e.g., Headings, Descriptions)

* R Code Chunks 
<pre><code>```{r eval = FALSE}
x <- c(1, 3, 5)
x + 1
```</code></pre>

* R Output (e.g., tables, plots, anything printed to console)
```{r echo = FALSE}
x <- c(1, 3, 5)
x + 1
```

For more detail on RMarkdown: http://rmarkdown.rstudio.com/

--- .segue .dark

## R Basics

---

## R Basics

This should review much of what you learned in the TryR tutorials: `tryr.codeschool.com/`

---

## Creating Vectors

`<-` is the assignment operator. 

```{r}
x <- 5
x
x^2 # R performs most any calculation you can think of.
```

We can also store more than one number in `x`.

```{r}
one_to_six <- c(1, 2, 3, 4, 5, 6)
one_to_six <- 1:6 # Equivalent
one_to_six <- seq(from = 1, to = 6, by = 1) # Equivalent

one_to_six^2
```

We'll call this a **vector**.

---
## Creating Vectors

Types of Vectors: numeric, character, factor, logical, date.

Here's a character vector:

```{r}
y1 <- "hello world"
y1

y2 <- c("hello", "world")
y2
```

* What's the difference between the two vectors, `y1` and `y2`?  
* What does the `c()` function do? 
* Where do you find a list of the objects you've created? 

--- bg:#DBEDFF

## Task: Creating Vectors

In your RMarkdown file:

* Create a vector with the ages of everyone in your family.

* Compute your family's ages in 5 years.

* Feed your vector to these commonly used functions:  
`length()`, `mean()`, `sum()`, `min()`, and `max()`

* Use Google or type `?length()` into your R console to figure out what the function does.

--- bg:#DBEDFF

## Task: Creating Vectors

```{r}
family_ages <- c(32, 33, 8) # My partner, me, my dog.
family_ages + 5 # In 5 years

length(family_ages)
mean(family_ages)
sum(family_ages)
c(min(family_ages), max(family_ages))
```

---

## Reading a Help Page

```{r}
?mean
```

**Description**  
Generic function for the (trimmed) arithmetic mean.

**Usage**
```{r eval = FALSE}
mean(x, trim = 0, na.rm = FALSE, ...)
```

**Arguments of the Function**  
`x` -- An R object. Currently there are methods for numeric/logical vectors and date...  
`na.rm` -- a logical value indicating whether NA values should be stripped...

**Value** (i.e., the output)  
If trim is zero (the default), the arithmetic mean of the values in x is computed...

**Examples**

```{r}
x <- c(0:10, 50)
xm <- mean(x)
```

---

## Indexing

Another object we'll commonly work with is a `data.frame` (think: spreadsheet).  

Row: Observation; Column: Variable
```{r}
test_df <- data.frame(x = 1:3, y = 8:10, z = c("A", "B", "C"))
test_df
```

We'll use a package from tidyverse, dplyr, to manipulate data frames. 

```{r eval = FALSE}
# Install package (only ever have to do this once)
install.packages("tidyverse") 
```

```{r message = FALSE}
# Load package (must be done every time)
library(tidyverse)
```

---

## Indexing

We can access specific elements of df in (at least) three ways:

(1) We can call its position in the data frame. 
```{r}
test_df
test_df[3,2] # [Row,Column]

y2[1] # This also works on vectors.
```

What does this do?
```{r eval = FALSE}
test_df[,1]
test_df[1,]
```

---

## Indexing

(2) We can use a boolean expressions (i.e., true or false) to select observations.

```{r}
test_df
filter(test_df, x >= 2)
filter(test_df, x > 1 & y < 10) 
one_to_six[one_to_six <= 4] # This also works on vectors.
```

--- &twocol

## Reference: Common Logical Expressions

*** =left

* `==` 
* `!=` 
* `%in%`

* `>`
* `>=`

* `&`
* `|`

*** =right

* Equal to  
* Not equal to  
* Contains  

* Greater or less than  
* Greater or less than or equal to  

* AND  
* OR

---

## Indexing

(3) We can grab whole columns.

```{r}
select(test_df, y)

test_df$y # This is the method in base R for selecting columns.

test_df[, 2]
```

`filter`: Subset rows using logical statements.  
`select`: Retain columns by name.  
`[]` Indexing: Use position to access specific elements.

---

## Useful Functions for Data Frames

```{r}
dim(test_df) # You can separately find the number of rows or columns: nrow(test_df); ncol(test_df)

names(test_df)

str(test_df)

summary(test_df)
```

---

## Quick Tip: Quitting R

When you exit `R`, it will ask if you want to save your workspace. Choose **NO**. 

Start with a fresh workspace and load or create objects as you need them. 

--- bg:#ff4d4d

## Assignments 

### Before Next Class:  
1. Enroll in course on [**Piazza website**](piazza.com/ucla/fall2016/pubplc290dis3)

2. Review syllabus

3. Download first problem set (Due Friday (4/13) at 11:59p)

### Next Class: Introduction to Visualization in R

--- bg:#DBEDFF

## Task: Subsetting a Data Frame

```{r}
data(diamonds) # Test dataset that ships with ggplot2 package.
head(diamonds) # Shows us the first several observations of a data.frame.
```

* How many observations?  What variables are included? 

* How many observations have a "Premium" cut? 

* How many observations have a "Premium" cut OR  
are less than 0.5 carats?

* What is the average price of diamonds in the data?

* Create an R Markdown file to present these findings.

--- bg:#DBEDFF

## Task: Subsetting a Data Frame

* How many observations?  What variables are included? 
```{r}
nrow(diamonds); names(diamonds)
```

* How many observations have a "Premium" cut? 

```{r}
nrow(filter(diamonds, cut == "Premium"))
```

* "Premium" cut OR are less than 0.5 carats?

```{r}
nrow(filter(diamonds, cut == "Premium" | carat < 0.5))
```

* What is the average price of diamonds in the data?

```{r}
mean(diamonds$price)
```
